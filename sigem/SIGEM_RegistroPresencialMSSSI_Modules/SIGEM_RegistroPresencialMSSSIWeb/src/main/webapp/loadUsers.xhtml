<?xml version="1.0" encoding="ISO-8859-15"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xml:lang="es" lang="es">
    <h:head>
    	
    </h:head>
 
    <h:body>
    	<ui:composition template="/template/layout.xhtml">
    		<ui:define name="breadcrumb">
    			<ol><li><h:outputText  value="#{msgs.labelLoadUsers}" /></li></ol>
    		</ui:define>
    		<ui:define name="content">
    		<h:form id="form"  enctype="multipart/form-data">
    		<h2><h:outputText  value="#{msgs.labelLoadUsers}" /></h2>
    		<div class="sombra"></div>
    		<p></p>
				<div align="center">
					<div style="width: 50%">
						<p:messages id="messages" showDetail="false" escape="false" autoUpdate="true"
							redisplay="false" closable="true" />
						<p:fileUpload id="fileUploadWidget" label="#{msgs.pfFileUploadLabel}"
							invalidSizeMessage="#{msgs.pfInvalidSizeMessage}"
							invalidFileMessage="#{msgs.pfInvalidFileMessage}"
							fileLimitMessage="#{msgs.pfFileLimitMessage}"
							auto="true" 							
							fileUploadListener="#{loadUsersAction.handleFileUpload}" onstart="PF('statusDialog').show()"
							oncomplete="PF('statusDialog').hide()"
							mode="advanced" dragDropSupport="true" update="@this,messages"
							sizeLimit="10000000" fileLimit="1" allowTypes="/(\.|\/)(xls)$/" />

					</div>
				</div>
    			<p:dialog modal="true" widgetVar="statusDialog"
					header="Actualizando, espere por favor" draggable="false"
					closable="false" resizable="false">
					<img
						src="#{webParam.entryParameters['URLRoot']}/img/ajaxloadingbar.gif" />
				</p:dialog>

			</h:form>
    		</ui:define>

    	</ui:composition>
    	
    	
    </h:body>
 
</html>